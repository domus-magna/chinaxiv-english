name: Render Validation Gate

on:
  workflow_dispatch: {}

jobs:
  gate:
    uses: ./.github/workflows/validation-gate.yml
    with:
      gate_id: render
      command: |
        set -e
        python -m src.validators.render_gate
      artifact_name: render-gate-report-${{ github.run_id }}
      artifact_paths: |
        reports/render_report.json
        reports/render_report.md
      artifact_if_missing: error
    secrets:
      openrouter_api_key: ${{ secrets.OPENROUTER_API_KEY }}
      brightdata_api_key: ${{ secrets.BRIGHTDATA_API_KEY }}
      brightdata_zone: ${{ secrets.BRIGHTDATA_ZONE }}
